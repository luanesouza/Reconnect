{"ast":null,"code":"import _regeneratorRuntime from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/luanesouza/projectFour/reconnect_client_side/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport './App.css';\nimport UserRegisterForm from './components/UserRegisterForm';\nimport UserLoginForm from './components/UserLoginForm';\nimport { registerUser, loginUser, getTherapists, getOneTherapist, getUserAppointments, createUserAppointment, editUserAppointment, deleteUserAppointment } from './services/users';\nimport UserProfile from './components/UserProfile';\nimport TherapistList from './components/TherapistList';\nimport TherapistProfile from './components/TherapistProfile';\nimport Modal from './components/Modal';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      therapist: '',\n      appointments: [],\n      therapists: [],\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: '',\n      modalOpen: false\n    };\n    _this.handleLogin = _this.handleLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRegister = _this.handleRegister.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAppointments = _this.getAppointments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAllTherapists = _this.getAllTherapists.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getTherapist = _this.getTherapist.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleModal = _this.toggleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState(function (prevState) {\n        return {\n          modalOpen: !prevState.modalOpen\n        };\n      });\n    }\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout(e) {\n      e.preventDefault();\n      this.setState({\n        user_first_name: '',\n        user_last_name: '',\n        user_email: '',\n        password: ''\n      });\n      this.props.history.push('/');\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleRegister\",\n    value: function () {\n      var _handleRegister = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ev) {\n        var _this$state, user_first_name, user_last_name, user_email, password, newUser, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ev.preventDefault();\n                _this$state = this.state, user_first_name = _this$state.user_first_name, user_last_name = _this$state.user_last_name, user_email = _this$state.user_email, password = _this$state.password;\n\n                if (!(user_first_name && user_last_name && user_email && password)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.prev = 3;\n                newUser = {\n                  user_first_name: this.state.user_first_name,\n                  user_last_name: this.state.user_last_name,\n                  user_email: this.state.user_email,\n                  password: this.state.password\n                };\n                _context.next = 7;\n                return registerUser(newUser);\n\n              case 7:\n                data = _context.sent;\n                console.log(this.state);\n                console.log(data);\n                this.setState({\n                  user_first_name: '',\n                  user_last_name: '',\n                  user_email: '',\n                  password: ''\n                });\n                this.props.history.push(\"/profile\");\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0, 'Something went wrong...');\n\n              case 17:\n                _context.next = 20;\n                break;\n\n              case 19:\n                console.log('please fill out form'); // logic works to not allow partially filled out forms to dispatch server call\n                // need to know conditional render \"please fill out form\" as html if failure\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 14]]);\n      }));\n\n      function handleRegister(_x) {\n        return _handleRegister.apply(this, arguments);\n      }\n\n      return handleRegister;\n    }()\n  }, {\n    key: \"handleLogin\",\n    value: function () {\n      var _handleLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(ev) {\n        var _this$state2, user_email, password, resp;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                ev.preventDefault();\n                _this$state2 = this.state, user_email = _this$state2.user_email, password = _this$state2.password;\n\n                if (!(user_email && password)) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                _context2.prev = 3;\n                _context2.next = 6;\n                return loginUser(this.state);\n\n              case 6:\n                resp = _context2.sent;\n\n                if (resp) {\n                  console.log(resp);\n                  this.setState({\n                    user_email: '',\n                    password: ''\n                  });\n                  this.props.history.push(\"/profile\");\n                } else {\n                  console.log('wrong username or password'); // this needs user prompt so they can understand why login failed\n                }\n\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](3);\n                console.log(_context2.t0, 'Someting went wrong...');\n\n              case 13:\n                _context2.next = 16;\n                break;\n\n              case 15:\n                console.log('please put both a username and password');\n\n              case 16:\n                ;\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function handleLogin(_x2) {\n        return _handleLogin.apply(this, arguments);\n      }\n\n      return handleLogin;\n    }()\n  }, {\n    key: \"getAppointments\",\n    value: function () {\n      var _getAppointments = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var appointments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return getUserAppointments();\n\n              case 2:\n                appointments = _context3.sent;\n                console.log(appointments);\n                this.setState({\n                  appointments: appointments\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getAppointments() {\n        return _getAppointments.apply(this, arguments);\n      }\n\n      return getAppointments;\n    }()\n  }, {\n    key: \"getAllTherapists\",\n    value: function () {\n      var _getAllTherapists = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var therapists;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return getTherapists();\n\n              case 2:\n                therapists = _context4.sent;\n                this.setState({\n                  therapists: therapists\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllTherapists() {\n        return _getAllTherapists.apply(this, arguments);\n      }\n\n      return getAllTherapists;\n    }()\n  }, {\n    key: \"getTherapist\",\n    value: function () {\n      var _getTherapist = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(therapistId) {\n        var therapist;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return getOneTherapist(therapistId);\n\n              case 2:\n                therapist = _context5.sent;\n                console.log(therapist);\n                this.setState({\n                  therapist: therapist\n                });\n                this.props.history.push('/therapist');\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTherapist(_x3) {\n        return _getTherapist.apply(this, arguments);\n      }\n\n      return getTherapist;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getAppointments();\n\n              case 2:\n                _context6.next = 4;\n                return this.getAllTherapists();\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 160\n            },\n            __self: this\n          }, React.createElement(UserRegisterForm, Object.assign({}, props, {\n            handleChange: _this2.handleChange,\n            handleSubmit: _this2.handleRegister,\n            first_name: _this2.state.first_name,\n            last_name: _this2.state.last_name,\n            email: _this2.state.email,\n            password: _this2.state.password,\n            closeModal: _this2.toggleModal,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(UserLoginForm, Object.assign({}, props, {\n            handleChange: _this2.handleChange,\n            handleSubmit: _this2.handleLogin,\n            email: _this2.state.email,\n            password: _this2.state.password,\n            closeModal: _this2.toggleModal,\n            isOpen: _this2.state.modalOpen,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/profile\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, React.createElement(UserProfile, {\n            appointments: _this2.state.appointments,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/therapists\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          }, React.createElement(TherapistList, {\n            getTherapist: _this2.getTherapist,\n            therapist: _this2.state.therapist,\n            therapists: _this2.state.therapists,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/therapist\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, React.createElement(TherapistProfile, {\n            therapist: _this2.state.therapist,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        closeModal: this.toggleModal,\n        isOpen: this.state.modalOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/luanesouza/projectFour/reconnect_client_side/src/App.js"],"names":["React","Component","Route","withRouter","UserRegisterForm","UserLoginForm","registerUser","loginUser","getTherapists","getOneTherapist","getUserAppointments","createUserAppointment","editUserAppointment","deleteUserAppointment","UserProfile","TherapistList","TherapistProfile","Modal","App","state","therapist","appointments","therapists","user_first_name","user_last_name","user_email","password","modalOpen","handleLogin","bind","handleChange","handleRegister","handleLogout","getAppointments","getAllTherapists","getTherapist","toggleModal","setState","prevState","e","preventDefault","props","history","push","target","name","value","ev","newUser","data","console","log","resp","therapistId","first_name","last_name","email"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAO,WAAP;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SAASC,YAAT,EACQC,SADR,EAEQC,aAFR,EAGQC,eAHR,EAIQC,mBAJR,EAKQC,qBALR,EAMQC,mBANR,EAOQC,qBAPR,QAOsC,kBAPtC;AAQA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;IAEMC,G;;;;;AACJ,iBAAa;AAAA;;AAAA;;AACX;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXC,MAAAA,YAAY,EAAE,EAFH;AAGXC,MAAAA,UAAU,EAAE,EAHD;AAIXC,MAAAA,eAAe,EAAE,EAJN;AAKXC,MAAAA,cAAc,EAAE,EALL;AAMXC,MAAAA,UAAU,EAAE,EAND;AAOXC,MAAAA,QAAQ,EAAE,EAPC;AAQXC,MAAAA,SAAS,EAAE;AARA,KAAb;AAUA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AACA,UAAKE,cAAL,GAAsB,MAAKA,cAAL,CAAoBF,IAApB,uDAAtB;AACA,UAAKG,YAAL,GAAoB,MAAKA,YAAL,CAAkBH,IAAlB,uDAApB;AACA,UAAKI,eAAL,GAAuB,MAAKA,eAAL,CAAqBJ,IAArB,uDAAvB;AACA,UAAKK,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBL,IAAtB,uDAAxB;AACA,UAAKM,YAAL,GAAoB,MAAKA,YAAL,CAAkBN,IAAlB,uDAApB;AACA,UAAKO,WAAL,GAAmB,MAAKA,WAAL,CAAiBP,IAAjB,uDAAnB;AApBW;AAqBZ;;;;kCAEa;AACZ,WAAKQ,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BX,UAAAA,SAAS,EAAE,CAACW,SAAS,CAACX;AADI,SAAL;AAAA,OAAvB;AAGD;;;iCAEYY,C,EAAG;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKH,QAAL,CAAc;AACVd,QAAAA,eAAe,EAAE,EADP;AAEVC,QAAAA,cAAc,EAAE,EAFN;AAGVC,QAAAA,UAAU,EAAE,EAHF;AAIVC,QAAAA,QAAQ,EAAE;AAJA,OAAd;AAMA,WAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACC;;;iCAEYJ,C,EAAG;AAAA,sBACUA,CAAC,CAACK,MADZ;AAAA,UACNC,IADM,aACNA,IADM;AAAA,UACAC,KADA,aACAA,KADA;AAEd,WAAKT,QAAL,qBACGQ,IADH,EACUC,KADV;AAGD;;;;;;gDAEoBC,E;;;;;;;AACnBA,gBAAAA,EAAE,CAACP,cAAH;8BACkE,KAAKrB,K,EAA/DI,e,eAAAA,e,EAAiBC,c,eAAAA,c,EAAgBC,U,eAAAA,U,EAAYC,Q,eAAAA,Q;;sBAChDH,eAAe,IAAIC,cAAnB,IACAC,UADA,IACcC,Q;;;;;;AAETsB,gBAAAA,O,GAAU;AACdzB,kBAAAA,eAAe,EAAE,KAAKJ,KAAL,CAAWI,eADd;AAEdC,kBAAAA,cAAc,EAAE,KAAKL,KAAL,CAAWK,cAFb;AAGdC,kBAAAA,UAAU,EAAE,KAAKN,KAAL,CAAWM,UAHT;AAIdC,kBAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO;AAJP,iB;;uBAMGpB,YAAY,CAAC0C,OAAD,C;;;AAAzBC,gBAAAA,I;AACNC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhC,KAAjB;AACA+B,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,qBAAKZ,QAAL,CAAc;AACVd,kBAAAA,eAAe,EAAE,EADP;AAEVC,kBAAAA,cAAc,EAAE,EAFN;AAGVC,kBAAAA,UAAU,EAAE,EAHF;AAIVC,kBAAAA,QAAQ,EAAE;AAJA,iBAAd;AAMA,qBAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB;;;;;;;AAEAO,gBAAAA,OAAO,CAACC,GAAR,cAAe,yBAAf;;;;;;;AAGFD,gBAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,E,CACA;AACA;;;;;;;;;;;;;;;;;;;;;iDAIcJ,E;;;;;;;AAChBA,gBAAAA,EAAE,CAACP,cAAH;+BACiC,KAAKrB,K,EAA9BM,U,gBAAAA,U,EAAYC,Q,gBAAAA,Q;;sBAChBD,UAAU,IAAIC,Q;;;;;;;uBAEKnB,SAAS,CAAC,KAAKY,KAAN,C;;;AAAtBiC,gBAAAA,I;;AACN,oBAAGA,IAAH,EAAS;AACPF,kBAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,uBAAKf,QAAL,CAAc;AACVZ,oBAAAA,UAAU,EAAE,EADF;AAEVC,oBAAAA,QAAQ,EAAC;AAFC,mBAAd;AAIA,uBAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB;AACD,iBAPD,MAOO;AACLO,kBAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EADK,CAEL;AACD;;;;;;;;AAEDD,gBAAAA,OAAO,CAACC,GAAR,eAAe,wBAAf;;;;;;;AAGFD,gBAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;;;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAI0BzC,mBAAmB,E;;;AAAxCW,gBAAAA,Y;AACN6B,gBAAAA,OAAO,CAACC,GAAR,CAAY9B,YAAZ;AAEA,qBAAKgB,QAAL,CAAc;AACZhB,kBAAAA,YAAY,EAAZA;AADY,iBAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAMyBb,aAAa,E;;;AAAhCc,gBAAAA,U;AAEN,qBAAKe,QAAL,CAAc;AACZf,kBAAAA,UAAU,EAAVA;AADY,iBAAd;;;;;;;;;;;;;;;;;;;;;iDAKiB+B,W;;;;;;;uBACO5C,eAAe,CAAC4C,WAAD,C;;;AAAjCjC,gBAAAA,S;AACN8B,gBAAAA,OAAO,CAACC,GAAR,CAAY/B,SAAZ;AACA,qBAAKiB,QAAL,CAAc;AACZjB,kBAAAA,SAAS,EAATA;AADY,iBAAd;AAGA,qBAAKqB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAIM,KAAKV,eAAL,E;;;;uBACA,KAAKC,gBAAL,E;;;;;;;;;;;;;;;;;;6BAGC;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAE,GAAnB;AAAuB,QAAA,MAAM,EAAE,gBAACO,KAAD;AAAA,iBAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,gBAAD,oBACIA,KADJ;AAEE,YAAA,YAAY,EAAE,MAAI,CAACX,YAFrB;AAGE,YAAA,YAAY,EAAE,MAAI,CAACC,cAHrB;AAIE,YAAA,UAAU,EAAE,MAAI,CAACZ,KAAL,CAAWmC,UAJzB;AAKE,YAAA,SAAS,EAAE,MAAI,CAACnC,KAAL,CAAWoC,SALxB;AAME,YAAA,KAAK,EAAE,MAAI,CAACpC,KAAL,CAAWqC,KANpB;AAOE,YAAA,QAAQ,EAAE,MAAI,CAACrC,KAAL,CAAWO,QAPvB;AAQE,YAAA,UAAU,EAAE,MAAI,CAACU,WARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CAD6B;AAAA,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAeE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,QAAlB;AAA2B,QAAA,MAAM,EAAE,gBAACK,KAAD;AAAA,iBACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,aAAD,oBACMA,KADN;AAEE,YAAA,YAAY,EAAE,MAAI,CAACX,YAFrB;AAGE,YAAA,YAAY,EAAE,MAAI,CAACF,WAHrB;AAIE,YAAA,KAAK,EAAE,MAAI,CAACT,KAAL,CAAWqC,KAJpB;AAKE,YAAA,QAAQ,EAAE,MAAI,CAACrC,KAAL,CAAWO,QALvB;AAME,YAAA,UAAU,EAAE,MAAI,CAACU,WANnB;AAOE,YAAA,MAAM,EAAE,MAAI,CAACjB,KAAL,CAAWQ,SAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADiC;AAAA,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,EA4BE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,UAAlB;AAA6B,QAAA,MAAM,EAAE,gBAACc,KAAD;AAAA,iBACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,WAAD;AAAa,YAAA,YAAY,EAAE,MAAI,CAACtB,KAAL,CAAWE,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADmC;AAAA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EAiCE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,aAAlB;AAAgC,QAAA,MAAM,EAAE,gBAACoB,KAAD;AAAA,iBACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,aAAD;AAAe,YAAA,YAAY,EAAE,MAAI,CAACN,YAAlC;AAAgD,YAAA,SAAS,EAAE,MAAI,CAAChB,KAAL,CAAWC,SAAtE;AAAiF,YAAA,UAAU,EAAE,MAAI,CAACD,KAAL,CAAWG,UAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADsC;AAAA,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCF,EAsCE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,YAAlB;AAA+B,QAAA,MAAM,EAAE,gBAACmB,KAAD;AAAA,iBACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,gBAAD;AAAkB,YAAA,SAAS,EAAE,MAAI,CAACtB,KAAL,CAAWC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADqC;AAAA,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCF,EA4CE,oBAAC,KAAD;AACE,QAAA,UAAU,EAAE,KAAKgB,WADnB;AAEE,QAAA,MAAM,EAAE,KAAKjB,KAAL,CAAWQ,SAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5CF,CADF;AAkDD;;;;EA3Le1B,S;;AA8LlB,eAAeE,UAAU,CAAEe,GAAF,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport './App.css';\nimport UserRegisterForm from './components/UserRegisterForm';\nimport UserLoginForm from './components/UserLoginForm';\nimport { registerUser,\n        loginUser,\n        getTherapists,\n        getOneTherapist,\n        getUserAppointments,\n        createUserAppointment,\n        editUserAppointment,\n        deleteUserAppointment, } from './services/users';\nimport UserProfile from './components/UserProfile'\nimport TherapistList from './components/TherapistList'\nimport TherapistProfile from './components/TherapistProfile'\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  constructor(){\n    super()\n\n    this.state = {\n      therapist: '',\n      appointments: [],\n      therapists: [],\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: '',\n      modalOpen: false\n    }\n    this.handleLogin = this.handleLogin.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.handleRegister = this.handleRegister.bind(this)\n    this.handleLogout = this.handleLogout.bind(this)\n    this.getAppointments = this.getAppointments.bind(this)\n    this.getAllTherapists = this.getAllTherapists.bind(this)\n    this.getTherapist = this.getTherapist.bind(this)\n    this.toggleModal = this.toggleModal.bind(this);\n  }\n\n  toggleModal() {\n    this.setState(prevState => ({\n      modalOpen: !prevState.modalOpen\n    }));\n  }\n\n  handleLogout(e) {\n  e.preventDefault();\n  this.setState({\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: ''\n  })\n  this.props.history.push('/');\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    })\n  };\n\n  async handleRegister(ev) {\n    ev.preventDefault();\n    const { user_first_name, user_last_name, user_email, password } = this.state\n    if ( user_first_name && user_last_name\n      && user_email && password ) {\n      try {\n        const newUser = {\n          user_first_name: this.state.user_first_name,\n          user_last_name: this.state.user_last_name,\n          user_email: this.state.user_email,\n          password: this.state.password\n        }\n        const data = await registerUser(newUser);\n        console.log(this.state);\n        console.log(data);\n        this.setState({\n            user_first_name: '',\n            user_last_name: '',\n            user_email: '',\n            password: ''\n        })\n        this.props.history.push(`/profile`);\n      } catch (e) {\n        console.log(e, 'Something went wrong...');\n      }\n    } else {\n      console.log('please fill out form');\n      // logic works to not allow partially filled out forms to dispatch server call\n      // need to know conditional render \"please fill out form\" as html if failure\n    }\n  };\n\n  async handleLogin(ev) {\n    ev.preventDefault();\n    const { user_email, password } = this.state;\n    if (user_email && password) {\n      try {\n        const resp = await loginUser(this.state)\n        if(resp) {\n          console.log(resp);\n          this.setState({\n              user_email: '',\n              password:''\n          })\n          this.props.history.push(`/profile`);\n        } else {\n          console.log('wrong username or password');\n          // this needs user prompt so they can understand why login failed\n        }\n      } catch(e) {\n        console.log(e, 'Someting went wrong...');\n      }\n    } else {\n      console.log('please put both a username and password');\n    };\n  };\n\n  async getAppointments(){\n    const appointments = await getUserAppointments()\n    console.log(appointments);\n\n    this.setState({\n      appointments\n    })\n  }\n\n  async getAllTherapists(){\n    const therapists = await getTherapists()\n\n    this.setState({\n      therapists\n    })\n  }\n\n  async getTherapist(therapistId){\n    const therapist = await getOneTherapist(therapistId)\n    console.log(therapist);\n    this.setState({\n      therapist\n    })\n    this.props.history.push('/therapist');\n  }\n\n  async componentDidMount(){\n    await this.getAppointments();\n    await this.getAllTherapists();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Route exact path ='/' render={(props) => (\n          <div>\n            <UserRegisterForm\n            {...props}\n              handleChange={this.handleChange}\n              handleSubmit={this.handleRegister}\n              first_name={this.state.first_name}\n              last_name={this.state.last_name}\n              email={this.state.email}\n              password={this.state.password}\n              closeModal={this.toggleModal}/>\n          </div>\n        )} />\n\n        <Route exact path='/login' render={(props) => (\n          <div>\n            <UserLoginForm\n              {...props}\n              handleChange={this.handleChange}\n              handleSubmit={this.handleLogin}\n              email={this.state.email}\n              password={this.state.password}\n              closeModal={this.toggleModal}\n              isOpen={this.state.modalOpen}/>\n          </div>\n        )} />\n\n        <Route exact path='/profile' render={(props) => (\n          <div>\n            <UserProfile appointments={this.state.appointments} />\n          </div>\n        )}/>\n        <Route exact path='/therapists' render={(props) => (\n          <div>\n            <TherapistList getTherapist={this.getTherapist} therapist={this.state.therapist} therapists={this.state.therapists} />\n          </div>\n        )} />\n        <Route exact path='/therapist' render={(props) => (\n          <div>\n            <TherapistProfile therapist={this.state.therapist}/>\n          </div>\n        )} />\n\n        <Modal\n          closeModal={this.toggleModal}\n          isOpen={this.state.modalOpen} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter (App);\n"]},"metadata":{},"sourceType":"module"}