{"ast":null,"code":"import _regeneratorRuntime from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/luanesouza/projectFour/reconnect_client_side/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/luanesouza/projectFour/reconnect_client_side/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport './App.css';\nimport UserRegisterForm from './components/UserRegisterForm';\nimport UserLoginForm from './components/UserLoginForm';\nimport { registerUser, loginUser, getTherapists, getOneTherapist, getUserAppointments, createUserAppointment, editUserAppointment, deleteUserAppointment } from './services/users';\nimport UserProfile from './components/UserProfile';\nimport TherapistList from './components/TherapistList';\nimport TherapistProfile from './components/TherapistProfile';\nimport Modal from './components/Modal';\nimport AppointmentForm from './components/AppointmentForm';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      therapist: '',\n      appointments: [],\n      therapists: [],\n      date: '',\n      time: '',\n      therapist_id: '',\n      therapist_image: '',\n      user_id: 1,\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: '',\n      modalOpen: false\n    };\n    _this.handleLogin = _this.handleLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRegister = _this.handleRegister.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAppointments = _this.getAppointments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAllTherapists = _this.getAllTherapists.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getTherapist = _this.getTherapist.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleModal = _this.toggleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createAppointment = _this.createAppointment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getInfoAppointment = _this.getInfoAppointment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState(function (prevState) {\n        return {\n          modalOpen: !prevState.modalOpen\n        };\n      });\n    }\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout(e) {\n      e.preventDefault();\n      this.setState({\n        user_first_name: '',\n        user_last_name: '',\n        user_email: '',\n        password: ''\n      });\n      this.props.history.push('/');\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleRegister\",\n    value: function () {\n      var _handleRegister = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ev) {\n        var _this$state, user_first_name, user_last_name, user_email, password, newUser, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ev.preventDefault();\n                _this$state = this.state, user_first_name = _this$state.user_first_name, user_last_name = _this$state.user_last_name, user_email = _this$state.user_email, password = _this$state.password;\n\n                if (!(user_first_name && user_last_name && user_email && password)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.prev = 3;\n                newUser = {\n                  user_first_name: this.state.user_first_name,\n                  user_last_name: this.state.user_last_name,\n                  user_email: this.state.user_email,\n                  password: this.state.password\n                };\n                _context.next = 7;\n                return registerUser(newUser);\n\n              case 7:\n                data = _context.sent;\n                console.log(this.state);\n                console.log(data);\n                this.setState({\n                  user_first_name: '',\n                  user_last_name: '',\n                  user_email: '',\n                  password: ''\n                });\n                this.props.history.push(\"/profile\");\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0, 'Something went wrong...');\n\n              case 17:\n                _context.next = 20;\n                break;\n\n              case 19:\n                console.log('please fill out form'); // logic works to not allow partially filled out forms to dispatch server call\n                // need to know conditional render \"please fill out form\" as html if failure\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 14]]);\n      }));\n\n      function handleRegister(_x) {\n        return _handleRegister.apply(this, arguments);\n      }\n\n      return handleRegister;\n    }()\n  }, {\n    key: \"handleLogin\",\n    value: function () {\n      var _handleLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(ev) {\n        var _this$state2, user_email, password, resp;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                ev.preventDefault();\n                _this$state2 = this.state, user_email = _this$state2.user_email, password = _this$state2.password;\n\n                if (!(user_email && password)) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                _context2.prev = 3;\n                _context2.next = 6;\n                return loginUser(this.state);\n\n              case 6:\n                resp = _context2.sent;\n\n                if (resp) {\n                  console.log(resp);\n                  this.setState({\n                    user_email: '',\n                    password: ''\n                  });\n                  this.props.history.push(\"/profile\");\n                } else {\n                  console.log('wrong username or password'); // this needs user prompt so they can understand why login failed\n                }\n\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](3);\n                console.log(_context2.t0, 'Someting went wrong...');\n\n              case 13:\n                _context2.next = 16;\n                break;\n\n              case 15:\n                console.log('please put both a username and password');\n\n              case 16:\n                ;\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function handleLogin(_x2) {\n        return _handleLogin.apply(this, arguments);\n      }\n\n      return handleLogin;\n    }()\n  }, {\n    key: \"getAppointments\",\n    value: function () {\n      var _getAppointments = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var appointments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return getUserAppointments();\n\n              case 2:\n                appointments = _context3.sent;\n                console.log(appointments);\n                this.setState({\n                  appointments: appointments\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getAppointments() {\n        return _getAppointments.apply(this, arguments);\n      }\n\n      return getAppointments;\n    }()\n  }, {\n    key: \"getAllTherapists\",\n    value: function () {\n      var _getAllTherapists = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var therapists;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return getTherapists();\n\n              case 2:\n                therapists = _context4.sent;\n                this.setState({\n                  therapists: therapists\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllTherapists() {\n        return _getAllTherapists.apply(this, arguments);\n      }\n\n      return getAllTherapists;\n    }()\n  }, {\n    key: \"getTherapist\",\n    value: function () {\n      var _getTherapist = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(therapistId) {\n        var therapist;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return getOneTherapist(therapistId);\n\n              case 2:\n                therapist = _context5.sent;\n                console.log(therapist);\n                this.setState({\n                  therapist: therapist,\n                  therapist_id: therapist.id,\n                  therapist_image: therapist.therapist_image\n                });\n                this.props.history.push('/therapist');\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTherapist(_x3) {\n        return _getTherapist.apply(this, arguments);\n      }\n\n      return getTherapist;\n    }()\n  }, {\n    key: \"getInfoAppointment\",\n    value: function () {\n      var _getInfoAppointment = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.props.history.push('/scheduleAppointment');\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getInfoAppointment() {\n        return _getInfoAppointment.apply(this, arguments);\n      }\n\n      return getInfoAppointment;\n    }()\n  }, {\n    key: \"createAppointment\",\n    value: function () {\n      var _createAppointment = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(e) {\n        var data, appointment;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                console.log('clicked');\n                e.preventDefault();\n                data = {\n                  date: this.state.date,\n                  time: this.state.time,\n                  therapist_id: this.state.therapist_id,\n                  therapist_image: this.state.therapist_image,\n                  user_id: 1\n                };\n                _context7.next = 5;\n                return createUserAppointment(data);\n\n              case 5:\n                appointment = _context7.sent;\n                this.setState({\n                  date: '',\n                  time: ''\n                });\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function createAppointment(_x4) {\n        return _createAppointment.apply(this, arguments);\n      }\n\n      return createAppointment;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8() {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.getAppointments();\n\n              case 2:\n                _context8.next = 4;\n                return this.getAllTherapists();\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, React.createElement(UserRegisterForm, Object.assign({}, props, {\n            handleChange: _this2.handleChange,\n            handleSubmit: _this2.handleRegister,\n            first_name: _this2.state.first_name,\n            last_name: _this2.state.last_name,\n            email: _this2.state.email,\n            password: _this2.state.password,\n            closeModal: _this2.toggleModal,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/scheduleAppointment\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }, React.createElement(AppointmentForm, Object.assign({}, props, {\n            handleChange: _this2.handleChange,\n            handleSubmit: _this2.createAppointment,\n            date: _this2.state.date,\n            time: _this2.state.time,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(UserLoginForm, Object.assign({}, props, {\n            handleChange: _this2.handleChange,\n            handleSubmit: _this2.handleLogin,\n            email: _this2.state.email,\n            password: _this2.state.password,\n            closeModal: _this2.toggleModal,\n            isOpen: _this2.state.modalOpen,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/profile\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, React.createElement(UserProfile, {\n            appointments: _this2.state.appointments,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/therapists\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234\n            },\n            __self: this\n          }, React.createElement(TherapistList, {\n            getTherapist: _this2.getTherapist,\n            therapist: _this2.state.therapist,\n            therapists: _this2.state.therapists,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/therapist\",\n        render: function render(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239\n            },\n            __self: this\n          }, React.createElement(TherapistProfile, {\n            therapist: _this2.state.therapist,\n            getInfoAppointment: _this2.getInfoAppointment,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        closeModal: this.toggleModal,\n        isOpen: this.state.modalOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/luanesouza/projectFour/reconnect_client_side/src/App.js"],"names":["React","Component","Route","withRouter","UserRegisterForm","UserLoginForm","registerUser","loginUser","getTherapists","getOneTherapist","getUserAppointments","createUserAppointment","editUserAppointment","deleteUserAppointment","UserProfile","TherapistList","TherapistProfile","Modal","AppointmentForm","App","state","therapist","appointments","therapists","date","time","therapist_id","therapist_image","user_id","user_first_name","user_last_name","user_email","password","modalOpen","handleLogin","bind","handleChange","handleRegister","handleLogout","getAppointments","getAllTherapists","getTherapist","toggleModal","createAppointment","getInfoAppointment","setState","prevState","e","preventDefault","props","history","push","target","name","value","ev","newUser","data","console","log","resp","therapistId","id","appointment","first_name","last_name","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport './App.css';\nimport UserRegisterForm from './components/UserRegisterForm';\nimport UserLoginForm from './components/UserLoginForm';\nimport { registerUser,\n        loginUser,\n        getTherapists,\n        getOneTherapist,\n        getUserAppointments,\n        createUserAppointment,\n        editUserAppointment,\n        deleteUserAppointment, } from './services/users';\nimport UserProfile from './components/UserProfile'\nimport TherapistList from './components/TherapistList'\nimport TherapistProfile from './components/TherapistProfile'\nimport Modal from './components/Modal';\nimport AppointmentForm from './components/AppointmentForm';\n\nclass App extends Component {\n  constructor(){\n    super()\n\n    this.state = {\n      therapist: '',\n      appointments: [],\n      therapists: [],\n      date: '',\n      time: '',\n      therapist_id:'',\n      therapist_image: '',\n      user_id: 1,\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: '',\n      modalOpen: false\n    }\n    this.handleLogin = this.handleLogin.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.handleRegister = this.handleRegister.bind(this)\n    this.handleLogout = this.handleLogout.bind(this)\n    this.getAppointments = this.getAppointments.bind(this)\n    this.getAllTherapists = this.getAllTherapists.bind(this)\n    this.getTherapist = this.getTherapist.bind(this)\n    this.toggleModal = this.toggleModal.bind(this);\n    this.createAppointment = this.createAppointment.bind(this);\n    this.getInfoAppointment = this.getInfoAppointment.bind(this);\n  }\n\n  toggleModal() {\n    this.setState(prevState => ({\n      modalOpen: !prevState.modalOpen\n    }));\n  }\n\n  handleLogout(e) {\n  e.preventDefault();\n  this.setState({\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      password: ''\n  })\n  this.props.history.push('/');\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    })\n  };\n\n  async handleRegister(ev) {\n    ev.preventDefault();\n    const { user_first_name, user_last_name, user_email, password } = this.state\n    if ( user_first_name && user_last_name\n      && user_email && password ) {\n      try {\n        const newUser = {\n          user_first_name: this.state.user_first_name,\n          user_last_name: this.state.user_last_name,\n          user_email: this.state.user_email,\n          password: this.state.password\n        }\n        const data = await registerUser(newUser);\n        console.log(this.state);\n        console.log(data);\n        this.setState({\n            user_first_name: '',\n            user_last_name: '',\n            user_email: '',\n            password: ''\n        })\n        this.props.history.push(`/profile`);\n      } catch (e) {\n        console.log(e, 'Something went wrong...');\n      }\n    } else {\n      console.log('please fill out form');\n      // logic works to not allow partially filled out forms to dispatch server call\n      // need to know conditional render \"please fill out form\" as html if failure\n    }\n  };\n\n  async handleLogin(ev) {\n    ev.preventDefault();\n    const { user_email, password } = this.state;\n    if (user_email && password) {\n      try {\n        const resp = await loginUser(this.state)\n        if(resp) {\n          console.log(resp);\n          this.setState({\n              user_email: '',\n              password:''\n          })\n          this.props.history.push(`/profile`);\n        } else {\n          console.log('wrong username or password');\n          // this needs user prompt so they can understand why login failed\n        }\n      } catch(e) {\n        console.log(e, 'Someting went wrong...');\n      }\n    } else {\n      console.log('please put both a username and password');\n    };\n  };\n\n  async getAppointments(){\n    const appointments = await getUserAppointments()\n    console.log(appointments);\n\n    this.setState({\n      appointments\n    })\n  }\n\n  async getAllTherapists(){\n    const therapists = await getTherapists()\n\n    this.setState({\n      therapists\n    })\n  }\n\n  async getTherapist(therapistId){\n    const therapist = await getOneTherapist(therapistId)\n    console.log(therapist);\n    this.setState({\n      therapist,\n      therapist_id:therapist.id,\n      therapist_image: therapist.therapist_image\n    })\n    this.props.history.push('/therapist');\n  }\n\n  async getInfoAppointment(){\n    this.props.history.push('/scheduleAppointment');\n  }\n\n  async createAppointment(e){\n    console.log('clicked');\n    e.preventDefault();\n    const data = {\n      date: this.state.date,\n      time: this.state.time,\n      therapist_id:this.state.therapist_id,\n      therapist_image: this.state.therapist_image ,\n      user_id: 1\n    }\n    const appointment = await createUserAppointment(data)\n    this.setState({\n      date: '',\n      time: ''\n    })\n  }\n\n  async componentDidMount(){\n    await this.getAppointments();\n    await this.getAllTherapists();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Route exact path ='/' render={(props) => (\n          <div>\n            <UserRegisterForm\n            {...props}\n              handleChange={this.handleChange}\n              handleSubmit={this.handleRegister}\n              first_name={this.state.first_name}\n              last_name={this.state.last_name}\n              email={this.state.email}\n              password={this.state.password}\n              closeModal={this.toggleModal}/>\n          </div>\n        )} />\n\n        <Route exact path='/scheduleAppointment' render={(props) => (\n          <div>\n            <AppointmentForm\n            {...props}\n            handleChange={this.handleChange}\n            handleSubmit={this.createAppointment}\n            date={this.state.date}\n            time={this.state.time} />\n          </div>\n        )} />\n\n        <Route exact path='/login' render={(props) => (\n          <div>\n            <UserLoginForm\n              {...props}\n              handleChange={this.handleChange}\n              handleSubmit={this.handleLogin}\n              email={this.state.email}\n              password={this.state.password}\n              closeModal={this.toggleModal}\n              isOpen={this.state.modalOpen}/>\n          </div>\n        )} />\n\n        <Route exact path='/profile' render={(props) => (\n          <div>\n            <UserProfile appointments={this.state.appointments} />\n          </div>\n        )}/>\n        <Route exact path='/therapists' render={(props) => (\n          <div>\n            <TherapistList getTherapist={this.getTherapist} therapist={this.state.therapist} therapists={this.state.therapists} />\n          </div>\n        )} />\n        <Route exact path='/therapist' render={(props) => (\n          <div>\n            <TherapistProfile\n            therapist={this.state.therapist}\n            getInfoAppointment={this.getInfoAppointment}/>\n          </div>\n        )} />\n\n        <Modal\n          closeModal={this.toggleModal}\n          isOpen={this.state.modalOpen} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter (App);\n"]},"metadata":{},"sourceType":"module"}